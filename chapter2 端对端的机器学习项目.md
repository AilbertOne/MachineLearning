chapter2 端对端的机器学习项目

1、观察大局

2、获得数据

3、从数据探索和可视化中获得insights

4、机器学习算法的数据准备

5、选择和训练模型

6、微调模型

7、展示解决方案

8、启动、监控和维护系统



正文

一、观察大局

拿出机器学习清单，开始思考问题如何解决

1、框架问题

流水线：一个序列的数据处理组件称为一个数据流水线。流水线在机器学习系统中非常普遍，因为需要大量的数据操作和数据转化才能使用。

![image-20200422221119478](C:\Users\18840\AppData\Roaming\Typora\typora-user-images\image-20200422221119478.png)

注：组件的运行方式

组件通常是异步运行。每个组件拉取大量的数据，然后进行处理，在将结果传输给另一个仓库；一段时间之后，流水线中的下一个组件会拉取前面的数据，并给出自己的输出，以此类推。每个组件都很独立：组件和组件之间的连接只有数据仓库。这使得整个系统非常简单易懂，不同团队可以专注于不同的组件上。如果某个组件发生故障，它的下游组件还能使用前面的最后一个输出继续正常运行（一段时间），所以使得整体架构鲁棒性较强。

2、选择性能指标

回归问题的典型性能衡量指标是均方根误差（RMSE）

3、检查假设

二、获取数据

1、创建工作区

2、下载数据

3、创建测试集

三、从数据探索和可视化中获得insights

1、将地理数据可视化

2、寻找相关性

3、实验不同属性的组合

四、机器学习算法的数据准备

目的是编写函数

1、数据清理

​	对待缺失的特性

​		放弃相应的地区

​		放弃这个属性

​		将缺失的值设置为某个值

​												Scikit-Learn的设计

一致性。所有对象共享一个简单一直的界面

估算器。能够根据数据集对某些参数进行估算的任意对象都可以称为估算器（imputer）

转换器。有些imputer也可以转换数据集，这些被称为转换器。

预测器。最后，有些估算器能够基于一个给定的数据集进行预测，这被称为预测器。

检查。

防止类扩散。

构成。现有的构件尽最大可能重用。例如，任意序列的转换器
最后加一个预测器就可以轻松创建一个流水线。

合理的默认值。

2、处理文本和分类属性

3、自定义转换器

4、特征缩放

常用的两种方法是：最小-最大缩放和标准化

​	最小-最大缩放（又叫作归一化）：将值重新缩放使其最终范围归于0到1之间。实现方法是将值减去最小值并除以最大值和最小值的差。

​	标准化方法：首先减去平均值（所以标准化值的均值总是零），然后除以方差，从而使得结果的分布具备单位房差。

5、转换流水线

五、选择和训练模型

1、培训和评估训练集

2、使用交叉验证来更好地进行评估

评估决策树模型

使用Scikit-Learn的交叉验证功能

六、微调模型

1、网格搜索

​	组合数量少

2、随机搜索

​	超参数的搜索范围（search space）较大

3、集成方法

4、分析最佳模型及其错误

5、通过测试集评估系统

七、启动、监控和维护系统